<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div id="mountNode"></div>
    <!-- <script type="importmap">
      {
        "imports": {
          "@antv/g6": "/node_modules/@antv/g6/es/index.js"
        }
      }
    </script> -->
    <script src="https://gw.alipayobjects.com/os/lib/antv/g6/3.7.1/dist/g6.min.js"></script>
    <script type="module">
      // 1.
      // import G6 from './node_modules/@antv/g6/es/index.js';

      // 2.
      const data = {
        nodes: [
          {
            x: 150,
            y: 150,
            id: 'node1',
            label: 'comp-node',
            size: [300, 50],
          },
        ],
        edges: [],
      };
      const container = document.getElementById('mountNode');
      const width = container.scrollWidth;
      const height = container.scrollHeight || 500;
      const graph = new G6.Graph({
        container,
        width,
        height,
        defaultNode: {
          type: 'comp-node',
          size: [150, 30],
          style: {
            fill: '#DEE9FF',
            stroke: '#5B8FF9',
            radius: 5,
          },
        },
        modes: {
          default: ['drag-node'],
        },
      });

      graph.data(data);
      graph.render();

      G6.registerNode(
        'comp-node',
        {
          draw(cfg, group) {
            const shape = group.addShape('rect', {
              attrs: {
                x: 0,
                y: 0,
                width: 300,
                height: 50,
                fill: '#DEE9FF',
                stroke: '#5B8FF9',
                radius: 5,
              },
            });
            return shape;
          },
        },
        'rect'
      );
    </script>
  </body>
</html>
